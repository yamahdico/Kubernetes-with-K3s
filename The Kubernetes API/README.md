# The Kubernetes API

در کوبرنتز، **`apiVersion`** نسخه API مورد استفاده برای تعریف منابع (Resources) است. هر نسخه نشان‌دهنده ثبات و امکانات موجود برای یک منبع خاص است. در ادامه نسخه‌های مشهور و پرکاربرد `apiVersion` و کاربردهای آن‌ها آورده شده است:

---

### **1. core/v1**
- **کاربرد:** این نسخه هسته اصلی API کوبرنتز است که شامل منابع اولیه و پایه‌ای می‌شود.
- **مثال منابع:**
  - **Pod:** اجرای یک یا چند کانتینر.
  - **Service:** فراهم کردن دسترسی شبکه پایدار به Podها.
  - **ConfigMap:** ذخیره اطلاعات پیکربندی به صورت Key-Value.
  - **Secret:** ذخیره اطلاعات حساس مانند رمزهای عبور.
- **ویژگی:** بدون نیاز به پیشوند گروهی، فقط `v1`.

---

### **2. apps/v1**
- **کاربرد:** مدیریت برنامه‌های کاربردی مانند Deploymentها.
- **مثال منابع:**
  - **Deployment:** مدیریت به‌روزرسانی و اجرای Podها.
  - **DaemonSet:** اجرای یک Pod در تمام یا برخی از Nodeها.
  - **StatefulSet:** مدیریت Podها با حالت (Stateful).
  - **ReplicaSet:** نگهداری تعداد مشخصی از کپی‌های Podها.
- **ویژگی:** بسیار پرکاربرد برای مدیریت چرخه حیات برنامه‌ها.

---

### **3. batch/v1**
- **کاربرد:** مدیریت کارهای زمان‌بر و پردازش دسته‌ای.
- **مثال منابع:**
  - **Job:** اجرای وظایف (Task) که نیاز به اجرا و اتمام دارند.
  - **CronJob:** اجرای دوره‌ای Jobها بر اساس زمان‌بندی (مانند CRON).
- **ویژگی:** مناسب برای کارهایی که یک‌بار اجرا می‌شوند یا زمان‌بندی‌شده هستند.

---

### **4. networking.k8s.io/v1**
- **کاربرد:** مدیریت تنظیمات شبکه‌ای پیشرفته.
- **مثال منابع:**
  - **Ingress:** فراهم کردن دسترسی HTTP و HTTPS به سرویس‌ها.
  - **NetworkPolicy:** کنترل قوانین شبکه‌ای بین Podها.
- **ویژگی:** پیکربندی پیشرفته‌تر از Service برای شبکه.

---

### **5. rbac.authorization.k8s.io/v1**
- **کاربرد:** مدیریت دسترسی‌ها و کنترل نقش‌ها.
- **مثال منابع:**
  - **Role:** تعریف دسترسی در سطح Namespace.
  - **ClusterRole:** تعریف دسترسی در کل کلاستر.
  - **RoleBinding و ClusterRoleBinding:** اتصال نقش‌ها به کاربران یا گروه‌ها.
- **ویژگی:** فراهم کردن امنیت و مدیریت دسترسی.

---

### **6. policy/v1**
- **کاربرد:** تعریف سیاست‌های امنیتی و کنترل منابع.
- **مثال منابع:**
  - **PodDisruptionBudget:** تضمین اینکه تعداد مشخصی از Podها همیشه در حال اجرا هستند.
- **ویژگی:** کمک به ایجاد سیاست‌های پایدار در زمان به‌روزرسانی.

---

### **7. autoscaling/v1**
- **کاربرد:** تنظیم منابع به صورت خودکار.
- **مثال منابع:**
  - **HorizontalPodAutoscaler (HPA):** تنظیم خودکار تعداد Podها بر اساس استفاده از منابع.
- **ویژگی:** بهینه‌سازی مصرف منابع در برنامه‌های مقیاس‌پذیر.

---

### **8. storage.k8s.io/v1**
- **کاربرد:** مدیریت منابع ذخیره‌سازی.
- **مثال منابع:**
  - **StorageClass:** تعریف کلاس‌های ذخیره‌سازی برای PersistentVolume‌ها.
  - **VolumeAttachment:** اتصال حجم ذخیره‌سازی به Nodeها.
- **ویژگی:** یکپارچه‌سازی ذخیره‌سازی با کوبرنتز.

---

### **9. apiextensions.k8s.io/v1**
- **کاربرد:** ایجاد منابع سفارشی (Custom Resources).
- **مثال منابع:**
  - **CustomResourceDefinition (CRD):** تعریف انواع منبع سفارشی.
- **ویژگی:** گسترش امکانات کوبرنتز برای نیازهای خاص.

---

### **10. admissionregistration.k8s.io/v1**
- **کاربرد:** مدیریت وب‌هوک‌های پذیرش (Admission Webhooks).
- **مثال منابع:**
  - **MutatingWebhookConfiguration:** تغییر خودکار منابع هنگام ایجاد.
  - **ValidatingWebhookConfiguration:** اعتبارسنجی منابع هنگام ایجاد.
- **ویژگی:** تنظیم فرآیند اعتبارسنجی و تغییر منابع.

---

### **توضیحات تکمیلی:**
- نسخه API‌ها معمولاً به سه دسته تقسیم می‌شوند:
  - **Alpha:** ویژگی‌های اولیه و ناپایدار (برای آزمایش).
  - **Beta:** ویژگی‌های نسبتاً پایدار، اما ممکن است تغییراتی داشته باشند.
  - **Stable (GA):** نسخه پایدار و آماده برای استفاده در محیط تولیدی.

**نکته:** هنگام تعریف منابع، `apiVersion` باید با نسخه مورد پشتیبانی کلاستر همخوانی داشته باشد.